# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é ScenePrepAI

## üéØ –û–±–∑–æ—Ä

ScenePrepAI - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∏–Ω–æ—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ-–ø–æ—Å—Ç–∞–Ω–æ–≤–æ—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (–ö–ü–ü). –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

## üìã –ü—Ä–µ—Å–µ—Ç—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 3 –ø—Ä–µ—Å–µ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏:

### 1. **Basic** (–ë–∞–∑–æ–≤—ã–π)
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

**–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –õ–æ–∫–∞—Ü–∏—è –∏ –ø–æ–¥–æ–±—ä–µ–∫—Ç
- –í—Ä–µ–º—è —Å—É—Ç–æ–∫ (–¥–µ–Ω—å/–Ω–æ—á—å/—É—Ç—Ä–æ/–≤–µ—á–µ—Ä)
- –¢–∏–ø —Å—Ü–µ–Ω—ã (–∏–Ω—Ç–µ—Ä—å–µ—Ä/–Ω–∞—Ç—É—Ä–∞)
- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏
- –°–∏–Ω–æ–ø—Å–∏—Å

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏—è
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã GPU/RAM

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset basic
```

**–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** ~2-3 –º–∏–Ω—É—Ç—ã –Ω–∞ 50 —Å—Ü–µ–Ω

---

### 2. **Extended** (–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)
–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.

**–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –∏–∑ Basic +
- –†–µ–∫–≤–∏–∑–∏—Ç (–¥–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫)
- –ò–≥—Ä–æ–≤–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- –ú–∞—Å—Å–æ–≤–∫–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (VFX)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- –û—Ü–µ–Ω–∫–∞ –±—é–¥–∂–µ—Ç–∞
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset extended
```

**–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** ~4-5 –º–∏–Ω—É—Ç –Ω–∞ 50 —Å—Ü–µ–Ω

---

### 3. **Full** (–ü–æ–ª–Ω—ã–π)
–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –í—Å–µ –∏–∑ Extended +
- –ö–æ—Å—Ç—é–º—ã (—Å –¥–µ—Ç–∞–ª—è–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º)
- –ì—Ä–∏–º –∏ –º–∞–∫–∏—è–∂ (–¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (SFX)
- –ö–∞—Å–∫–∞–¥–µ—Ä—ã (–¥–∞/–Ω–µ—Ç)
- –ü–∏—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞ (–¥–∞/–Ω–µ—Ç)
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –û—Ü–µ–Ω–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ö–ü–ü –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—ä–µ–º–æ–∫
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:**
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset full
```

**–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** ~6-8 –º–∏–Ω—É—Ç –Ω–∞ 50 —Å—Ü–µ–Ω

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
# –° –ø—Ä–µ—Å–µ—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (full)
python app/screenplay_parser.py -i input/scenario.docx -o output/result.xlsx

# –° –≤—ã–±–æ—Ä–æ–º –ø—Ä–µ—Å–µ—Ç–∞
python app/screenplay_parser.py -i input/scenario.docx -o output/result.xlsx --preset basic
```

### –ó–∞–ø—É—Å–∫ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --config custom_config.yaml --preset extended
```

### –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset full --debug
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Basic | Extended | Full |
|----------------|-------|----------|------|
| –ö–æ–ª–æ–Ω–æ–∫ –≤ Excel | 7 | 12 | 20 |
| –°–∫–æ—Ä–æ—Å—Ç—å | ‚ö°‚ö°‚ö° | ‚ö°‚ö° | ‚ö° |
| –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è | ‚≠ê | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VRAM | ~6GB | ~8GB | ~9GB |
| –í—Ä–µ–º—è –Ω–∞ 50 —Å—Ü–µ–Ω | 2-3 –º–∏–Ω | 4-5 –º–∏–Ω | 6-8 –º–∏–Ω |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
```bash
python app/screenplay_parser.py -i scenario.docx -o quick_analysis.xlsx --preset basic
```

### –î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:
```bash
python app/screenplay_parser.py -i scenario.docx -o production_plan.xlsx --preset extended
```

### –î–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ö–ü–ü:
```bash
python app/screenplay_parser.py -i scenario.docx -o full_kpp.xlsx --preset full
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø—Ä–µ—Å–µ—Ç–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.yaml`:

```yaml
presets:
  my_custom:
    name: "–ú–æ–π –ø—Ä–µ—Å–µ—Ç"
    description: "–ö–∞—Å—Ç–æ–º–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π"
    entities:
      - location
      - characters
      - props
      - vehicles
      - costumes
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset my_custom
```

---

## üìà –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

### –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–ø—Ä–µ—Å–µ—Ç Full):

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–æ—á–Ω–æ—Å—Ç—å | –ü–æ–ª–Ω–æ—Ç–∞ |
|-----------|----------|---------|
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ü–µ–Ω | 90-95% | 95% |
| –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ | 85-90% | 90% |
| –õ–æ–∫–∞—Ü–∏–∏ | 85-90% | 90% |
| –°–∏–Ω–æ–ø—Å–∏—Å | 80-85% | 85% |
| –†–µ–∫–≤–∏–∑–∏—Ç | 70-75% | 70% |
| –ú–∞—Å—Å–æ–≤–∫–∞ | 60-70% | 65% |
| –°–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã | 50-60% | 55% |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é, –æ—Å–æ–±–µ–Ω–Ω–æ:
- –¢–æ—á–Ω—ã–µ —á–∏—Å–ª–∞ –º–∞—Å—Å–æ–≤–∫–∏
- –î–µ—Ç–∞–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–∞–º—è—Ç–∏ (RAM –∏–ª–∏ VRAM)

**–†–µ—à–µ–Ω–∏–µ 1:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–π –ø—Ä–µ—Å–µ—Ç
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset basic
```

**–†–µ—à–µ–Ω–∏–µ 2:** –û—Ç–∫–ª—é—á–∏—Ç–µ vLLM –≤ `config.yaml`:
```yaml
llm:
  use_vllm: false
```

**–†–µ—à–µ–Ω–∏–µ 3:** –£–º–µ–Ω—å—à–∏—Ç–µ batch size –≤ `config.yaml`:
```yaml
llm:
  batch:
    entity_extraction_batch_size: 2  # –≤–º–µ—Å—Ç–æ 4
```

### –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Å–µ—Ç Full –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏:
```bash
python app/screenplay_parser.py -i scenario.docx -o output.xlsx --preset full
```

### –û—à–∏–±–∫–∞ "Out of memory"

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å –≤ `config.yaml`:
```yaml
llm:
  model_name: "Qwen/Qwen2.5-7B-Instruct"  # –≤–º–µ—Å—Ç–æ 14B
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `screenplay_parser.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--debug` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM (16GB+) –∏ VRAM (24GB –¥–ª—è 14B –º–æ–¥–µ–ª–∏)

---

## üé¨ –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Basic –ø—Ä–µ—Å–µ—Ç
```
–°–µ—Ä–∏—è | –°—Ü–µ–Ω–∞ | –†–µ–∂–∏–º | –ò–Ω—Ç/–ù–∞—Ç | –û–±—ä–µ–∫—Ç | –ü–æ–¥–æ–±—ä–µ–∫—Ç | –°–∏–Ω–æ–ø—Å–∏—Å | –ü–µ—Ä—Å–æ–Ω–∞–∂–∏
01    | 1     | –î–ï–ù–¨  | –ò–ù–¢     | –ö–≤–∞—Ä—Ç–∏—Ä–∞ | –ö—É—Ö–Ω—è   | –ò–≤–∞–Ω –≥–æ—Ç–æ–≤–∏—Ç –∑–∞–≤—Ç—Ä–∞–∫ | –ò–≤–∞–Ω, –ú–∞—Ä–∏—è
```

### Extended –ø—Ä–µ—Å–µ—Ç
```
+ –ú–∞—Å—Å–æ–≤–∫–∞ | –ö–æ–ª-–≤–æ | –†–µ–∫–≤–∏–∑–∏—Ç | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç | VFX
  -        | 0      | —Ç–∞—Ä–µ–ª–∫–∞, –Ω–æ–∂, —Ö–ª–µ–± | - | -
```

### Full –ø—Ä–µ—Å–µ—Ç
```
+ –ì—Ä–∏–º | –ö–æ—Å—Ç—é–º | –ö–∞—Å–∫–∞–¥–µ—Ä—ã | –ü–∏—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞ | –°–ø–µ—Ü. –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
  -    | –¥–æ–º–∞—à–Ω—è—è –æ–¥–µ–∂–¥–∞ | - | - | - | –£—Ç—Ä–µ–Ω–Ω—è—è —Å—Ü–µ–Ω–∞ | 85%
```

---

**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-16